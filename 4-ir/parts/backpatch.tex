% backpatch.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.90\textwidth}{figs/if-backpatch}

    \vspace{0.60cm}
    \red{\bf $B$ 还不知道 $S.next$ 的指令地址, 如何跳转?}

    \pause
    \vspace{0.80cm}
    再扫描一遍中间代码, 将标号替换成指令(相对)地址

    \pause
    \vspace{1.20cm}
    \red{\bf 可否在生成中间代码的时候就填入指令地址?}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 回填 (Backpatch) 技术}

    \pause
    \vspace{0.50cm}
    \fig{width = 0.60\textwidth}{figs/wakeng}
    \blue{\bf 子节点挖坑、祖先节点填坑}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 针对布尔表达式的回填技术}

    \fig{width = 0.80\textwidth}{figs/cfg-boolexpr-M}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 综合属性 $B.truelist$ 保存 \teal{\bf 需要跳转到 $B.true$} 的\blue{\bf 指令地址}}
    \fig{width = 0.90\textwidth}{figs/B-true-false-backpatch}
    \red{\bf 综合属性 $B.falselist$ 保存 \teal{\bf 需要跳转到 $B.false$} 的\blue{\bf 指令地址}}

    \pause
    \vspace{0.60cm}
    \fig{width = 0.70\textwidth}{figs/B-true-false}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 1.00\textwidth}{figs/B-rel-backpatch}

    \vspace{0.80cm}
    \fig{width = 0.90\textwidth}{figs/B-rel}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 1.00\textwidth}{figs/B-lnot-backpatch}

    \vspace{0.80cm}
    \fig{width = 0.90\textwidth}{figs/B-lnot}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 1.00\textwidth}{figs/B-land-backpatch}

    \vspace{0.80cm}
    \fig{width = 0.80\textwidth}{figs/M-backpatch}

    \vspace{0.80cm}
    \fig{width = 0.90\textwidth}{figs/B-land}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 1.00\textwidth}{figs/B-lor-backpatch}

    \vspace{0.80cm}
    \fig{width = 0.80\textwidth}{figs/M-backpatch}

    \vspace{0.80cm}
    \fig{width = 0.90\textwidth}{figs/B-lor}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \teal{\Large \texttt{x < 100 || x > 200 \&\& x != y}}

    \fig{width = 1.00\textwidth}{figs/anno-boolexpr-backpatch}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \begin{columns}
      \column{0.50\textwidth}
        \fig{width = 1.00\textwidth}{figs/backpatch-104}
      \column{0.50\textwidth}
        \fig{width = 1.00\textwidth}{figs/backpatch-102}
    \end{columns}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%