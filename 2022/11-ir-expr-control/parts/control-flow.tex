% control-flow.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \red{\Large \bf 控制流语句与布尔表达式的中间代码翻译}

    \vspace{0.50cm}
    \fig{width = 0.45\textwidth}{figs/cfg-S-if-while}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    {\Large \purple{\bf 布尔表达式}的作用: \red{\bf 布尔值} \emph{vs.} \blue{\bf 控制流跳转}}

    \vspace{0.50cm}
    \fig{width = 1.00\textwidth}{figs/boolexpr-value}

    \vspace{0.30cm}
    {\large 我们先关注``控制流跳转''}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \red{\Large \bf 控制流语句与布尔表达式的中间代码翻译}

    \fig{width = 0.80\textwidth}{figs/daju}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    {\Large 分工明确 \qquad 各司其职}

    \vspace{0.30cm}
    \fig{width = 0.45\textwidth}{figs/fengong}
  \end{center}

  \pause
  \vspace{0.30cm}
  \begin{center}
    \red{父节点}为子节点准备跳转指令的目标标签 \\[5pt]
    子节点通过\blue{\bf 继承属性}确定跳转目标
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    在自顶向下的分析过程中 \\[15pt]

    为右部的每个 $B$ 计算 $B.\text{true}$ 与 $B.\text{false}$ \\[10pt]
    为右部的每个 $S$ 计算 $S.\text{next}$
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \fig{width = 0.70\textwidth}{figs/cfg-S}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \red{\bf 继承属性 $S.next$}

    \fig{width = 0.90\textwidth}{figs/SDD-S}

    \vspace{0.80cm}
    \blue{\bf $S.next$ 为语句 $S$ 指明了``跳出'' $S$ 的目标}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \fig{width = 0.90\textwidth}{figs/SDD-assign}

    \vspace{0.60cm}
    代表了表达式的翻译, 包括数组引用
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \fig{width = 1.00\textwidth}{figs/SDD-if}

    \pause
    \vspace{0.80cm}
    \begin{columns}
      \column{0.50\textwidth}
        \fig{width = 0.90\textwidth}{figs/if-code-block}
      \column{0.50\textwidth}
        \pause
        \texttt{if (true)} \\
        \quad \texttt{\blue{if (false) \text{\bf assign}}}
    \end{columns}

    \begin{columns}
      \pause
      \column{0.30\textwidth}
        \[
          P \to S
        \]
      \column{0.70\textwidth}
        \pause
        \fig{width = 0.80\textwidth}{figs/SDD-true-false}
    \end{columns}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \fig{width = 0.90\textwidth}{figs/SDD-if-else}

    \pause
    \vspace{0.50cm}
    \begin{columns}
      \column{0.50\textwidth}
        \fig{width = 0.70\textwidth}{figs/if-else-code-block}
      \column{0.50\textwidth}
        \pause
        \texttt{if (true)} \\
        \quad \texttt{\blue{if (true) \text{\bf assign} else \text{\bf assign}}} \\
        \texttt{else} \\
        \quad \text{\bf assign}
    \end{columns}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \fig{width = 0.90\textwidth}{figs/SDD-while}

    \pause
    \vspace{0.50cm}
    \begin{columns}
      \column{0.50\textwidth}
        \fig{width = 0.80\textwidth}{figs/while-code-block}
      \column{0.55\textwidth}
        \pause
        \texttt{while (true)} \\
        \quad \texttt{\blue{if (false) {\bf assign} else {\bf assign}}}
    \end{columns}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}
  \begin{center}
    \fig{width = 0.90\textwidth}{figs/SDD-SS}

    \pause
    \vspace{0.60cm}
    \texttt{\blue{if (true) {\bf assign} else {\bf assign} \teal{{\bf assign}}}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
% \begin{frame}
%   \begin{center}
%     \fig{width = 0.70\textwidth}{figs/SDD-P}
%   \end{center}
% \end{frame}
%%%%%%%%%%%%%%%%%%%%