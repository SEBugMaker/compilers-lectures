% type-system.tex

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.80\textwidth}{figs/type-systems}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \fig{width = 0.48\textwidth}{figs/js-eq}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.75\textwidth}{figs/js-table}
  \end{center}
  \begin{center}
    \href{https://thomas-yang.me/projects/oh-my-dear-js/}{\textsc{Oh My Dear JavaScript}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.80\textwidth}{figs/dynamic-static-weak-strong}

    \vspace{0.30cm}
    \teal{\url{https://youtu.be/C5fr0LZLMAs}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 类型检查}的常见形式

    \fig{width = 0.80\textwidth}{figs/type-checking-rule}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.50\textwidth}{figs/struct-stack-set}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \begin{definition}[结构等价 (Structurally Equivalent)]
    \end{definition}

    \vspace{0.80cm}
    此处不作严格定义
    \vspace{0.80cm}

    \begin{definition}[名等价 (Name Equivalent)]
    \end{definition}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 结构等价}中的``结构''又是什么意思?

    \vspace{0.60cm}
    $array(\blue{n}, t)  \qquad array(\blue{m}, t)$

    \pause
    \vspace{0.80cm}
    % record($\langle \text{\red{a} : int} \rangle$) \qquad
    % record($\langle \text{\red{b} : int} \rangle$)
    \begin{columns}
      \column{0.50\textwidth}
        \fig{width = 0.80\textwidth}{figs/record-ab}
      \column{0.50\textwidth}
        \fig{width = 0.80\textwidth}{figs/record-ba}
    \end{columns}

    \pause
    \vspace{1.00cm}
    \blue{\bf 不同的语言有不同的设计方案}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \blue{\bf 类型综合:} 根据子表达式的类型确定表达式的类型

    \vspace{0.60cm}
    \fig{width = 0.80\textwidth}{figs/type-synthesis}

    \[
        \teal{E_{1} + E_{2}}
    \]
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.60\textwidth}{figs/error-functions}

    \vspace{0.60cm}
    \blue{\bf 重载函数的类型综合规则}

    \vspace{0.60cm}
    \fig{width = 0.90\textwidth}{figs/function-type-synthesis}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \blue{\bf 类型推导:} 根据某语言结构的使用方式确定表达式的类型

    \vspace{0.50cm}
    \fig{width = 1.00\textwidth}{figs/type-inference}

    \[
        \teal{null(x): \text{$x$ 是一个列表, 它的元素类型未知}}
    \]
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \red{\bf 类型转换}

    \fig{width = 0.40\textwidth}{figs/int-to-float}

    \pause
    \vspace{0.50cm}
    \fig{width = 1.00\textwidth}{figs/type-int-float}

    \pause
    \red{\bf 不要写这样的代码!!!}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.80\textwidth}{figs/widen-narrow}

    \vspace{0.60cm}
    \href{https://en.cppreference.com/w/c/language/conversion}{Conversion@cppreference.com}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.80\textwidth}{figs/expr-types}
    \fig{width = 0.70\textwidth}{figs/widen}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%
\begin{frame}{}
  \begin{center}
    \fig{width = 0.90\textwidth}{figs/type-systems-good-bad-ugly}

    \vspace{0.30cm}
    \teal{\url{https://youtu.be/SWTWkYbcWU0}}
  \end{center}
\end{frame}
%%%%%%%%%%%%%%%%%%%%